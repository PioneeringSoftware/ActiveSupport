<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>ActiveSupportKit: NSRegularExpression(ActiveSupport) Category Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ActiveSupportKit
   &#160;<span id="projectnumber">v1.5(120.3)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="category_n_s_regular_expression_07_active_support_08-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NSRegularExpression(ActiveSupport) Category Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_n_s_regular_expression_09_active_support_8h_source.html">NSRegularExpression+ActiveSupport.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a8110e46ae8a7baa2905913f9a19863a9"><td class="memItemLeft" align="right" valign="top">(NSUInteger)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_regular_expression_07_active_support_08.html#a8110e46ae8a7baa2905913f9a19863a9">replaceMatchesInString:replacementStringForResult:</a></td></tr>
<tr class="memdesc:a8110e46ae8a7baa2905913f9a19863a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces all matches of a given regular expression in a given string using a given block to compute the replacement string for each match.  <a href="#a8110e46ae8a7baa2905913f9a19863a9">More...</a><br/></td></tr>
<tr class="separator:a8110e46ae8a7baa2905913f9a19863a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f70b030f0021b6a5ba8e1ac3777463"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="category_n_s_regular_expression_07_active_support_08.html#af4f70b030f0021b6a5ba8e1ac3777463">stringByReplacingMatchesInString:replacementStringForResult:</a></td></tr>
<tr class="separator:af4f70b030f0021b6a5ba8e1ac3777463"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_n_s_regular_expression_09_active_support_8h_source.html#l00029">29</a> of file <a class="el" href="_n_s_regular_expression_09_active_support_8h_source.html">NSRegularExpression+ActiveSupport.h</a>.</p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a8110e46ae8a7baa2905913f9a19863a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSUInteger) replaceMatchesInString: </td>
          <td></td>
          <td class="paramtype">(NSMutableString *)&#160;</td>
          <td class="paramname"><em>string</em></td>
        </tr>
        <tr>
          <td class="paramkey">replacementStringForResult:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_s_regular_expression_09_active_support_8h.html#a5496d9d3bc46f27bb1400a660f7d11da">ASReplacementStringForResultBlock</a>)&#160;</td>
          <td class="paramname"><em>replacementStringForResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replaces all matches of a given regular expression in a given string using a given block to compute the replacement string for each match. </p>
<dl class="section return"><dt>Returns</dt><dd>Answers the total number of replacements completed.</dd></dl>
<p>The block accepts the match result, the progressively replaced string along with its progressive offset.</p>
<p>Use the method as follows. Suppose you want to have strings of the form <code>"a/b/c"</code> and you want to replace every path element separator (the forward slashes) to double-colons and fold the following character to uppercase at the same time. This assumes the characters following the slashes are letters. We could use the regular expression <code>"/(.?)"</code> meaning a slash optionally followed by any character. The parentheses act as markers for substitution.</p>
<div class="fragment"><div class="line">NSRegularExpression *re = [NSRegularExpression regularExpressionWithPattern:<span class="stringliteral">@&quot;/(.?)&quot;</span></div>
<div class="line">                                                                   options:0</div>
<div class="line">                                                                     error:NULL];</div>
<div class="line">NSString *answer = [re replaceMatchesInString:<span class="stringliteral">@&quot;a/b/c&quot;</span></div>
<div class="line">                  replacementStringForResult:^NSString *(NSTextCheckingResult *result,</div>
<div class="line">                                                         NSString *inString,</div>
<div class="line">                                                         NSInteger offset) {</div>
<div class="line">                      <span class="comment">// See Note 1</span></div>
<div class="line">                      NSRegularExpression *re = [result regularExpression];</div>
<div class="line">                      <span class="comment">// See Note 2</span></div>
<div class="line">                      NSString *s1 = [re replacementStringForResult:result</div>
<div class="line">                                                           inString:inString</div>
<div class="line">                                                             offset:offset</div>
<div class="line">                                                           <span class="keyword">template</span>:<span class="stringliteral">@&quot;$1&quot;</span>];</div>
<div class="line">                      <span class="keywordflow">return</span> [<span class="stringliteral">@&quot;::&quot;</span> stringByAppendingString:[s1 uppercaseString]];</div>
<div class="line">                  }];</div>
<div class="line">NSLog(<span class="stringliteral">@&quot;\&quot;</span>%@\<span class="stringliteral">&quot;&quot;</span>, answer);</div>
</div><!-- fragment --><p>The answer <code>"a::B::C"</code> appears in the log.</p>
<dl class="section user"><dt>Note 1</dt><dd>Uses <code>result</code> to access the regular expression again. This step could be omitted because (in this example) this interior block has access to the exterior context, the <code>re</code> above. However, that is not always the case. Accessing the original regular expression via the matching result proves the best general approach.</dd></dl>
<dl class="section user"><dt>Note 2</dt><dd>Pulls out <code>s1</code> from the input string, the string matching the first parentheses. The <code>"$1"</code> template refers to this first matching part of the entire regular expression match. The block runs for every match. Of course, each match can have multiple matching subsections. See Apple documentation for <code>NSRegularExpression</code> for more details. </dd></dl>

<p>Definition at line <a class="el" href="_n_s_regular_expression_09_active_support_8m_source.html#l00029">29</a> of file <a class="el" href="_n_s_regular_expression_09_active_support_8m_source.html">NSRegularExpression+ActiveSupport.m</a>.</p>

</div>
</div>
<a class="anchor" id="af4f70b030f0021b6a5ba8e1ac3777463"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString *) stringByReplacingMatchesInString: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>string</em></td>
        </tr>
        <tr>
          <td class="paramkey">replacementStringForResult:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_s_regular_expression_09_active_support_8h.html#a5496d9d3bc46f27bb1400a660f7d11da">ASReplacementStringForResultBlock</a>)&#160;</td>
          <td class="paramname"><em>replacementStringForResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_n_s_regular_expression_09_active_support_8m_source.html#l00055">55</a> of file <a class="el" href="_n_s_regular_expression_09_active_support_8m_source.html">NSRegularExpression+ActiveSupport.m</a>.</p>

</div>
</div>
<hr/>The documentation for this category was generated from the following files:<ul>
<li>ActiveSupportKit/<a class="el" href="_n_s_regular_expression_09_active_support_8h_source.html">NSRegularExpression+ActiveSupport.h</a></li>
<li>ActiveSupportKit/<a class="el" href="_n_s_regular_expression_09_active_support_8m_source.html">NSRegularExpression+ActiveSupport.m</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
